---
date: 2025-10-01 11:08:25
title: PUT和POST的区别
permalink: /pages/4a6d2b
categories:
  - src
  - 浏览器和网络
---

# PUT 和 POST 的区别详解

POST 和 PUT 是 HTTP 协议中两个常用的请求方法，虽然都可以用来向服务器发送数据，但它们在语义、用途和行为上有本质区别。理解这些区别对于设计符合 RESTful 原则的 API 至关重要。

## 核心区别总结

| 特性 | POST | PUT |
|------|------|-----|
| 语义 | 创建资源 | 更新或创建（指定位置）资源 |
| 幂等性 | ❌ 非幂等（多次执行结果不同） | ✅ 幂等（多次执行结果相同） |
| 资源位置 | 由服务器决定 | 由客户端指定 |
| 操作对象 | 对资源集合操作 | 对单个资源操作 |
| 是否可重复 | 不可重复（会创建多个资源） | 可重复（结果不变） |

## 详细解释

### 1. 语义与用途

#### POST：创建资源
用于向资源集合中添加新资源。
客户端发送数据，服务器决定资源的唯一标识（如 ID）和存储位置。
类比：往一个文件夹里添加一个新文件，文件名由系统生成。

```http
POST /api/users
{
  "name": "Alice",
  "email": "alice@example.com"
}
```

服务器可能返回：

```http
HTTP/1.1 201 Created
Location: /api/users/123
```

#### PUT：更新或创建（指定位置）资源
用于更新某个已知 URI 的资源，或在指定位置创建资源。
客户端明确知道资源的完整 URI。
如果资源不存在，PUT 会创建它；如果存在，则完全替换它。
类比：把一个文件保存到指定路径，如果文件已存在就覆盖。

```http
PUT /api/users/123
{
  "name": "Alice",
  "email": "alice_new@example.com"
}
```

无论执行多少次，`/api/users/123` 的内容都是请求体中的数据。

### 2. 幂等性（Idempotency）

这是最核心的区别：

#### PUT 是幂等的
同一个 PUT 请求执行一次或多次，对服务器状态的影响是相同的。
例如：更新用户信息，重复提交不会创建多个用户。

#### POST 是非幂等的
每次 POST 请求都可能创建一个新资源。
例如：重复提交订单，会生成多个订单。

**幂等性的重要性**：在网络不稳定时，客户端可以安全地重试 PUT 请求，而无需担心副作用。

### 3. 资源位置的控制

- **POST**：客户端不关心资源最终的 URL，由服务器生成并返回（通常通过 Location 响应头）。
- **PUT**：客户端必须提供完整的资源 URL，意味着它对资源的命名和位置有控制权。

### 4. 数据完整性

PUT 通常用于完全替换整个资源。如果只发送部分字段，其他字段可能被清空（除非服务器支持部分更新，但这不符合标准语义）。
PATCH 方法才是用于部分更新的正确选择。

## 使用场景对比

| 场景 | 推荐方法 | 说明 |
|------|---------|------|
| 创建新用户 | POST /users | 服务器分配 ID |
| 更新用户信息（完整替换） | PUT /users/123 | 客户端指定用户 ID |
| 修改用户邮箱（部分更新） | PATCH /users/123 | 推荐使用 PATCH |
| 上传文件到指定路径 | PUT /files/report.pdf | 覆盖或创建 |
| 提交表单创建新条目 | POST /entries | 典型的创建操作 |
| 重试失败的更新操作 | PUT 可安全重试 | 幂等性保证 |

## 总结

- 用 POST 当你想说："请创建一个这样的资源"，具体放哪你不管。
- 用 PUT 当你想说："请把这个资源放在这个位置，如果已有就替换掉"。

✅ **最佳实践**：遵循 RESTful 设计原则，POST 用于创建，PUT 用于更新（或指定位置创建），PATCH 用于部分更新。这样能使 API 更清晰、可预测且易于维护。