---
title: 封装栈类
date: 2025-09-20 17:11:23
permalink: /pages/97545d
categories:
  - src
  - 数据结构与算法
---
# 封装栈类

栈是一种遵循后进先出（LIFO, Last In First Out）原则的有序集合。在这篇文章中，我们将使用JavaScript封装一个栈类，并通过实例来展示其应用。

## 一、栈类的封装

以下是一个基础的栈类实现，包含了栈的常见操作：

```javascript
// 封装栈类
function Stack() {
    // 栈中的属性
    this.items = []
    
    // 栈中的操作
    // 入栈
    Stack.prototype.push = function (element) {
        this.items.push(element)
    }
    
    // 出栈
    Stack.prototype.pop = function () {
        return this.items.pop()
    }
    
    // 查看栈顶元素
    Stack.prototype.lookTop = function () {
        return this.items[this.items.length - 1]
    }
    
    // 判断栈是否为空
    Stack.prototype.isEmpty = function () {
        return this.items.length == 0
    }
    
    // 获取栈中元素个数
    Stack.prototype.size = function () {
        return this.items.length
    }
    
    // toString方法
    Stack.prototype.toString = function () {
        let str = ''
        for (let i = 0; i < this.items.length; i++) {
            str += this.items[i]
        }
        return str
    }
}
```

## 二、栈的基本使用示例

下面是栈类的基本使用方法示例：

```javascript
// 创建一个栈实例
let stack = new Stack()

// 入栈操作
stack.push(1)
stack.push(2)
stack.push(3)
stack.push(4)

console.log(stack.toString()); // 输出: 1234

// 出栈操作
stack.pop()

console.log(stack.toString()); // 输出: 123

// 查看栈顶元素
console.log(stack.lookTop()); // 输出: 3

// 判断栈是否为空
console.log(stack.isEmpty()); // 输出: false

// 获取栈中元素个数
console.log(stack.size()); // 输出: 3
```

## 三、栈的实际应用：十进制转二进制

栈的一个经典应用是将十进制数转换为二进制数，使用的是"除二取余法"：

```javascript
// 十进制转二进制（除二取余法）
function DecimalToBinary(num) {
    let s = new Stack()

    while (num > 0) {
        s.push(num % 2)  // 将余数入栈
        num = Math.floor(num / 2)  // 整数除法
    }
    
    let str = ''
    // 依次出栈，得到二进制结果
    while (!s.isEmpty()) {
        str += s.pop()
    }
    
    return str
}

// 测试示例
console.log(DecimalToBinary(10)); // 输出: 1010
console.log(DecimalToBinary(100)); // 输出: 1100100
console.log(DecimalToBinary(255)); // 输出: 11111111
```

## 四、算法原理解析

### 十进制转二进制的算法原理

1. **除二取余**：将十进制数不断除以2，记录每一步的余数
2. **逆序排列**：将所有余数按照从后到前的顺序排列，得到二进制表示

栈的特性正好适合这个过程 - 我们将余数依次入栈，然后再依次出栈，自然就实现了逆序排列。

## 五、ES6 版本的栈实现

使用ES6的类语法可以更优雅地实现栈：

```javascript
// ES6 版本的栈实现
class Stack {
    constructor() {
        this.items = []
    }
    
    // 入栈
    push(element) {
        this.items.push(element)
    }
    
    // 出栈
    pop() {
        return this.items.pop()
    }
    
    // 查看栈顶元素
    lookTop() {
        return this.items[this.items.length - 1]
    }
    
    // 判断栈是否为空
    isEmpty() {
        return this.items.length === 0
    }
    
    // 获取栈中元素个数
    size() {
        return this.items.length
    }
    
    // toString方法
    toString() {
        return this.items.join('')
    }
}
```

通过这个封装的栈类，我们可以方便地在JavaScript中使用栈这种数据结构，并应用到各种实际场景中。
